# Text Analysis Service - Quick Reference for LLMs

> For detailed guidance, see llms.md

## Project: GitHub Copilot 101 Workshop Demo

REST API + Interactive Web UI for text analysis with INTENTIONAL BUGS for teaching.

## Quick Start

```bash
git clone https://github.com/hoodini/copilot-workshop-text-analysis.git
cd copilot-workshop-text-analysis
npm install
npm start                    # Server at http://localhost:3000
npm test                     # Expect 13 failing tests (bugs!)
npm run test:integration     # Integration tests with API mocking
```

## Stack

- Node.js 18+ / Express.js
- Jest + Supertest + Nock (testing)
- MyMemory Translation API (free, no key)
- Local sentiment analysis (word matching)

## Project Structure

```
src/index.js           - Main API + all functions
public/                - Interactive web UI (glassmorphism)
test/sample.test.js    - Unit tests (13 intentional failures)
test/integration/      - Integration tests with nock mocking
WORKSHOP.md            - ⭐ Step-by-step guide (START HERE)
docs/PROMPTS_LIBRARY.md - 40+ Copilot prompts
```

## API Endpoints

```
GET  /health              - Health check
POST /analyze/stats       - Word count, sentences, reading time
POST /transform           - Slug, case (upper/lower/title/camel), reverse
POST /validate            - Email, URL, palindrome, profanity
POST /analyze/sentiment   - Local sentiment (positive/negative/neutral)
POST /translate           - Translation via MyMemory API (free)
```

## Intentional Bugs (DO NOT AUTO-FIX)

| Function | Bug |
|----------|-----|
| countWords() | split(' ') fails on multiple spaces |
| countSentences() | Only splits on '.', ignores '?' and '!' |
| isPalindrome() | Case-sensitive, includes spaces |
| findMostFrequentWord() | O(n²) - needs hash map |

## Workshop Exercises (from WORKSHOP.md)

1. Fix countWords bug
2. Fix isPalindrome bug
3. Generate unit tests
4. Improve sentiment analysis
5. Optimize O(n²) algorithm
6. Create Dockerfile
7. Write integration tests with nock
8. Add documentation
9. Refactor to NestJS

## External APIs

MyMemory Translation (FREE):
- URL: https://api.mymemory.translated.net/get
- No API key needed
- 500 chars/request limit

Sentiment: Local word matching (22 pos + 22 neg words)

## Testing

```bash
npm test                    # All tests
npm run test:integration    # Integration only
npm run test:coverage       # With coverage
```

Integration tests use nock to mock external APIs.

## Guidelines

DO:
- Generate tests with edge cases
- Explain what code does
- Show before/after comparisons
- Keep workshop FREE (no paid APIs)

DON'T:
- Auto-fix bugs without explaining
- Add paid API dependencies
- Skip input validation

## Related Files

- WORKSHOP.md - Step-by-step guide
- README.md - Project overview
- AGENTS.md - AI coding guidelines
- docs/PROMPTS_LIBRARY.md - Workshop prompts
